class FbEventsApi{static setCookie(t,e,i){let o="";if(i){let t=new Date;t.setTime(t.getTime()+24*i*60*60*1e3),o="; expires="+t.toUTCString()}return document.cookie=t+"="+(e||"")+o+"; path=/",this}static getCookie(t){let e=t+"=",i=decodeURIComponent(document.cookie).split(";");for(let t=0;t<i.length;t++){let o=i[t];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}}static getLocation(){return new Promise(((t,e)=>{void 0===FbEventsApi.getCookie("fbuser_location")?fetch("https://myip.wtf/json").then((t=>t.json())).then((e=>{FbEventsApi.setCookie("fbuser_location",JSON.stringify(e),1),t(JSON.stringify(e))})).catch((t=>{e(t)})):t(FbEventsApi.getCookie("fbuser_location"))}))}static getPixel(){return this.getParams("fb")}static getParams(t){return new URLSearchParams(window.location.search).get(t)}static getFbc(){if(void 0===FbEventsApi.getCookie("_fbc")){const t=this.getParams("fbclid");t&&setCookie("_fbc","fb.1."+(new Date).getTime()+"."+t,7)}return FbEventsApi.getCookie("_fbc")}static getFbp(){if(void 0===FbEventsApi.getCookie("_fbp")){const t=this.getParams("fbp");t&&setCookie("_fbp",t,7)}return FbEventsApi.getCookie("_fbp")}static getSourceUrl(){return`${window.location.protocol}//${window.location.host}${window.location.pathname}`}static getUniqueEventId(){let t=Math.random().toString(36).substring(2,15);return"".concat(t,"-").concat(this.eventTime)}}